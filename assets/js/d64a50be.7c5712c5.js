"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[224],{5378(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"developing/desktop-guide","title":"SUZENT Desktop Application","description":"SUZENT has been wrapped with Tauri 2.0 to create native desktop applications for Windows, macOS, and Linux. The Python backend is bundled as a standalone executable using Nuitka, and the React frontend is served through Tauri\'s native webview.","source":"@site/../docs/03-developing/desktop-guide.md","sourceDirName":"03-developing","slug":"/developing/desktop-guide","permalink":"/suzent/docs/developing/desktop-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/cyzus/suzent/tree/main/website/../docs/03-developing/desktop-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"planning_tool","permalink":"/suzent/docs/concepts/tools/planning_tool"},"next":{"title":"Development Guide","permalink":"/suzent/docs/developing/development-guide"}}');var l=i(4848),d=i(8453);const r={},t="SUZENT Desktop Application",c={},a=[{value:"Documentation",id:"documentation",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Build Tools",id:"build-tools",level:3},{value:"Quick Start (Development)",id:"quick-start-development",level:2},{value:"Production Build",id:"production-build",level:2},{value:"Build Artifacts",id:"build-artifacts",level:3},{value:"Manual Build Steps",id:"manual-build-steps",level:3},{value:"Application Data Location",id:"application-data-location",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Nuitka Build Fails",id:"nuitka-build-fails",level:3},{value:"Cargo Build Fails",id:"cargo-build-fails",level:3},{value:"Backend Fails to Start in Built App",id:"backend-fails-to-start-in-built-app",level:3},{value:"Frontend Cannot Connect to Backend",id:"frontend-cannot-connect-to-backend",level:3},{value:"Large Bundle Size",id:"large-bundle-size",level:3},{value:"Resources",id:"resources",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"suzent-desktop-application",children:"SUZENT Desktop Application"})}),"\n",(0,l.jsx)(n.p,{children:"SUZENT has been wrapped with Tauri 2.0 to create native desktop applications for Windows, macOS, and Linux. The Python backend is bundled as a standalone executable using Nuitka, and the React frontend is served through Tauri's native webview."}),"\n",(0,l.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Document"}),(0,l.jsx)(n.th,{children:"Purpose"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"/suzent/docs/developing/development-guide",children:"development-guide.md"})}),(0,l.jsx)(n.td,{children:"Complete development guide (includes Quick Start)"})]})})]}),"\n",(0,l.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"+-------------------------------------------+\n|           Tauri Application               |\n|  +--------------+    +------------------+ |\n|  |   Webview    |    |  Rust Process    | |\n|  |   (React)    |    |                  | |\n|  |              |    |  - Backend       | |\n|  |  Frontend    |---\x3e|    Lifecycle     | |\n|  |  Built       |    |  - Port Mgmt     | |\n|  |  Assets      |    |  - IPC Bridge    | |\n|  +--------------+    +------------------+ |\n|         |                   |             |\n|         +-----HTTP API------+             |\n|             (localhost:dynamic)           |\n+-------------------------------------------+\n                    |\n            +-------v--------+\n            | Python Backend |\n            |  (Bundled exe) |\n            |                |\n            | - Starlette    |\n            | - LanceDB      |\n            | - SQLite       |\n            +----------------+\n"})}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.h3,{id:"build-tools",children:"Build Tools"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"All platforms:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Node.js 20.x or higher"}),"\n",(0,l.jsx)(n.li,{children:"Python 3.12 or higher"}),"\n",(0,l.jsxs)(n.li,{children:["Rust 1.75 or higher (",(0,l.jsx)(n.a,{href:"https://rustup.rs/",children:"https://rustup.rs/"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Nuitka for Python compilation:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"uv pip install nuitka orderedset zstandard\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Windows:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Microsoft Visual C++ Build Tools"}),"\n",(0,l.jsx)(n.li,{children:"WebView2 Runtime (usually pre-installed on Windows 10/11)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"macOS:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"xcode-select --install\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Linux (Ubuntu/Debian):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\nsudo apt-get install -y libgtk-3-dev libwebkit2gtk-4.0-dev \\\n  libappindicator3-dev librsvg2-dev patchelf\n"})}),"\n",(0,l.jsx)(n.h2,{id:"quick-start-development",children:"Quick Start (Development)"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Desktop app mode"})," (requires Rust):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Start backend\npython src/suzent/server.py\n\n# Terminal 2: Start Tauri\ncd src-tauri\nnpm install\nnpm run dev\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Browser mode"})," (no Rust needed):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Start backend\npython src/suzent/server.py\n\n# Terminal 2: Start frontend\ncd frontend && npm run dev\n# Then open http://localhost:5173\n"})}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.a,{href:"/suzent/docs/developing/development-guide",children:"development-guide.md"})," for detailed development instructions."]}),"\n",(0,l.jsx)(n.h2,{id:"production-build",children:"Production Build"}),"\n",(0,l.jsx)(n.p,{children:"Build the complete standalone application:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd src-tauri\nnpm run build:full\n"})}),"\n",(0,l.jsx)(n.p,{children:"This command automatically:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Builds the frontend (",(0,l.jsx)(n.code,{children:"npm run build:frontend"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Builds the Python backend with Nuitka (",(0,l.jsx)(n.code,{children:"npm run build:backend"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Builds the Tauri application and bundles everything (",(0,l.jsx)(n.code,{children:"npm run build"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Or use convenience scripts:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Windows (PowerShell):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:".\\scripts\\build_tauri.ps1\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"macOS/Linux:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"chmod +x scripts/build_tauri.sh\n./scripts/build_tauri.sh\n"})}),"\n",(0,l.jsx)(n.h3,{id:"build-artifacts",children:"Build Artifacts"}),"\n",(0,l.jsx)(n.p,{children:"Find installers at:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Platform"}),(0,l.jsx)(n.th,{children:"Location"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Windows"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src-tauri/target/release/bundle/msi/SUZENT_x.x.x_x64_en-US.msi"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"macOS"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src-tauri/target/release/bundle/dmg/SUZENT_x.x.x_x64.dmg"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Linux"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"src-tauri/target/release/bundle/appimage/suzent_x.x.x_amd64.AppImage"})})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"manual-build-steps",children:"Manual Build Steps"}),"\n",(0,l.jsx)(n.p,{children:"If you prefer to build step by step:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Install Dependencies"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd src-tauri && npm install\ncd ../frontend && npm install\ncd ..\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Build Frontend"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd frontend\nnpm run build\ncd ..\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Build Python Backend"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"python scripts/build_backend.py\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Creates a standalone executable at ",(0,l.jsx)(n.code,{children:"src-tauri/binaries/suzent-backend"})," (or ",(0,l.jsx)(n.code,{children:".exe"})," on Windows)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Build Tauri Application"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd src-tauri\nnpm run build\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"application-data-location",children:"Application Data Location"}),"\n",(0,l.jsx)(n.p,{children:"When running as a bundled application, SUZENT stores all user data in the standard OS application data directory:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Platform"}),(0,l.jsx)(n.th,{children:"Location"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Windows"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"%APPDATA%\\com.suzent.app\\"})," (e.g., ",(0,l.jsx)(n.code,{children:"C:\\Users\\Username\\AppData\\Roaming\\com.suzent.app\\"}),")"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"macOS"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"~/Library/Application Support/com.suzent.app/"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Linux"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"~/.config/com.suzent.app/"})," (or ",(0,l.jsx)(n.code,{children:"$XDG_CONFIG_HOME"}),")"]})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"This directory contains:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"chats.db"}),": SQLite database for chat history"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"memory/"}),": LanceDB vector database for long-term memory"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"skills/"}),": Custom user skills"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"sandbox-data/"}),": Data generated in the code execution sandbox"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"config/"}),": Configuration files"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"suzent/\n\u251c\u2500\u2500 frontend/              # React frontend (Vite)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u2514\u2500\u2500 dist/              # Built output\n\u251c\u2500\u2500 src/suzent/            # Python backend\n\u2502   \u251c\u2500\u2500 server.py          # Entry point\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 src-tauri/             # Tauri desktop wrapper\n\u2502   \u251c\u2500\u2500 src/               # Rust code\n\u2502   \u2502   \u251c\u2500\u2500 main.rs        # App entry\n\u2502   \u2502   \u2514\u2500\u2500 backend.rs     # Backend manager\n\u2502   \u251c\u2500\u2500 binaries/          # Compiled Python backend (after build)\n\u2502   \u251c\u2500\u2500 package.json       # Tauri CLI\n\u2502   \u251c\u2500\u2500 Cargo.toml         # Rust deps\n\u2502   \u251c\u2500\u2500 tauri.conf.json    # Dev config\n\u2502   \u2514\u2500\u2500 tauri.conf.prod.json  # Prod config\n\u251c\u2500\u2500 scripts/               # Build scripts\n\u2502   \u251c\u2500\u2500 build_backend.py   # Nuitka build script\n\u2502   \u251c\u2500\u2500 build_tauri.sh     # Unix build script\n\u2502   \u2514\u2500\u2500 build_tauri.ps1    # Windows build script\n\u2514\u2500\u2500 config/                # Configuration\n"})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"nuitka-build-fails",children:"Nuitka Build Fails"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Missing dependencies:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"uv pip install -r requirements.txt\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Outdated Nuitka:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"uv pip install --upgrade nuitka\n"})}),"\n",(0,l.jsx)(n.h3,{id:"cargo-build-fails",children:"Cargo Build Fails"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Outdated Rust:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"rustup update\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Corrupted build cache:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd src-tauri\ncargo clean\n"})}),"\n",(0,l.jsx)(n.h3,{id:"backend-fails-to-start-in-built-app",children:"Backend Fails to Start in Built App"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Check ",(0,l.jsx)(n.code,{children:"src-tauri/binaries/"})," contains the backend executable"]}),"\n",(0,l.jsx)(n.li,{children:"Verify Python dependencies were bundled correctly"}),"\n",(0,l.jsx)(n.li,{children:"Check application logs in the app data directory"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"frontend-cannot-connect-to-backend",children:"Frontend Cannot Connect to Backend"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Verify ",(0,l.jsx)(n.code,{children:"window.__SUZENT_BACKEND_PORT__"})," is set in the browser console"]}),"\n",(0,l.jsxs)(n.li,{children:["Check that all API calls use ",(0,l.jsx)(n.code,{children:"API_BASE"})," prefix"]}),"\n",(0,l.jsxs)(n.li,{children:["Ensure CSP settings in ",(0,l.jsx)(n.code,{children:"tauri.conf.json"})," allow localhost connections"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"large-bundle-size",children:"Large Bundle Size"}),"\n",(0,l.jsx)(n.p,{children:"The bundled application may be 200-500MB due to:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Python runtime and dependencies"}),"\n",(0,l.jsx)(n.li,{children:"Playwright/Chromium binaries (for crawl4ai)"}),"\n",(0,l.jsx)(n.li,{children:"LanceDB native libraries"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Optimizations:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Selective Playwright binary inclusion"}),"\n",(0,l.jsxs)(n.li,{children:["Strip debug symbols: ",(0,l.jsx)(n.code,{children:"cargo tauri build --release"})]}),"\n",(0,l.jsx)(n.li,{children:"Compress final installers"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://v2.tauri.app/",children:"Tauri Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://nuitka.net/doc/user-manual.html",children:"Nuitka Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://v2.tauri.app/develop/sidecar/",children:"Embedding External Binaries in Tauri"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>t});var s=i(6540);const l={},d=s.createContext(l);function r(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);