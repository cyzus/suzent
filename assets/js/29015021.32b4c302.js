"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[785],{3219(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"concepts/memory/api","title":"API Reference","description":"Complete API documentation for the unified memory-session system.","source":"@site/../docs/02-concepts/memory/api.md","sourceDirName":"02-concepts/memory","slug":"/concepts/memory/api","permalink":"/docs/concepts/memory/api","draft":false,"unlisted":false,"editUrl":"https://github.com/cyzus/suzent/tree/main/website/../docs/02-concepts/memory/api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Memory System","permalink":"/docs/concepts/memory/"},"next":{"title":"Architecture","permalink":"/docs/concepts/memory/architecture"}}');var i=r(4848),s=r(8453);const o={},l="API Reference",a={},d=[{value:"MemoryManager",id:"memorymanager",level:2},{value:"Initialization",id:"initialization",level:3},{value:"Core Memory",id:"core-memory",level:3},{value:"get_core_memory()",id:"get_core_memory",level:4},{value:"update_memory_block()",id:"update_memory_block",level:4},{value:"format_core_memory_for_context()",id:"format_core_memory_for_context",level:4},{value:"Archival Memory",id:"archival-memory",level:3},{value:"search_memories()",id:"search_memories",level:4},{value:"retrieve_relevant_memories()",id:"retrieve_relevant_memories",level:4},{value:"process_conversation_turn_for_memories()",id:"process_conversation_turn_for_memories",level:4},{value:"refresh_core_memory_facts()",id:"refresh_core_memory_facts",level:4},{value:"get_memory_stats()",id:"get_memory_stats",level:4},{value:"MarkdownMemoryStore",id:"markdownmemorystore",level:2},{value:"Initialization",id:"initialization-1",level:3},{value:"Daily Logs",id:"daily-logs",level:3},{value:"append_daily_log()",id:"append_daily_log",level:4},{value:"get_recent_logs()",id:"get_recent_logs",level:4},{value:"list_daily_logs()",id:"list_daily_logs",level:4},{value:"Long-term Memory",id:"long-term-memory",level:3},{value:"write_memory_file()",id:"write_memory_file",level:4},{value:"read_memory_file()",id:"read_memory_file",level:4},{value:"MarkdownIndexer",id:"markdownindexer",level:2},{value:"reindex_from_markdown()",id:"reindex_from_markdown",level:3},{value:"TranscriptIndexer",id:"transcriptindexer",level:2},{value:"index_transcript()",id:"index_transcript",level:3},{value:"TranscriptManager",id:"transcriptmanager",level:2},{value:"Initialization",id:"initialization-2",level:3},{value:"Methods",id:"methods",level:3},{value:"append_turn()",id:"append_turn",level:4},{value:"read_transcript()",id:"read_transcript",level:4},{value:"transcript_exists()",id:"transcript_exists",level:4},{value:"StateMirror",id:"statemirror",level:2},{value:"Initialization",id:"initialization-3",level:3},{value:"Methods",id:"methods-1",level:3},{value:"mirror_state()",id:"mirror_state",level:4},{value:"read_state()",id:"read_state",level:4},{value:"SessionLifecycle",id:"sessionlifecycle",level:2},{value:"Initialization",id:"initialization-4",level:3},{value:"Methods",id:"methods-2",level:3},{value:"should_reset()",id:"should_reset",level:4},{value:"get_session_key()",id:"get_session_key",level:4},{value:"ContextCompressor",id:"contextcompressor",level:2},{value:"Initialization",id:"initialization-5",level:3},{value:"Methods",id:"methods-3",level:3},{value:"compress_context()",id:"compress_context",level:4},{value:"Agent Tools",id:"agent-tools",level:2},{value:"MemorySearchTool",id:"memorysearchtool",level:3},{value:"MemoryBlockUpdateTool",id:"memoryblockupdatetool",level:3},{value:"LanceDBMemoryStore",id:"lancedbmemorystore",level:2},{value:"Initialization",id:"initialization-6",level:3},{value:"Memory Blocks",id:"memory-blocks",level:3},{value:"get_all_memory_blocks()",id:"get_all_memory_blocks",level:4},{value:"set_memory_block()",id:"set_memory_block",level:4},{value:"Archival Memory",id:"archival-memory-1",level:3},{value:"add_memory()",id:"add_memory",level:4},{value:"Search",id:"search",level:3},{value:"hybrid_search()",id:"hybrid_search",level:4},{value:"REST API Endpoints",id:"rest-api-endpoints",level:2},{value:"Session Inspection",id:"session-inspection",level:3},{value:"Memory Files",id:"memory-files",level:3},{value:"Core Memory",id:"core-memory-1",level:3},{value:"Type Definitions",id:"type-definitions",level:2},{value:"ExtractedFact",id:"extractedfact",level:3},{value:"Transcript Entry (JSONL line)",id:"transcript-entry-jsonl-line",level:3},{value:"Agent State (JSON v2)",id:"agent-state-json-v2",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,i.jsx)(n.p,{children:"Complete API documentation for the unified memory-session system."}),"\n",(0,i.jsx)(n.h2,{id:"memorymanager",children:"MemoryManager"}),"\n",(0,i.jsx)(n.h3,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"MemoryManager(\n    store: LanceDBMemoryStore,\n    embedding_model: str = None,\n    embedding_dimension: int = 0,\n    llm_for_extraction: Optional[str] = None,\n    markdown_store: Optional[MarkdownMemoryStore] = None\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"core-memory",children:"Core Memory"}),"\n",(0,i.jsx)(n.h4,{id:"get_core_memory",children:"get_core_memory()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.get_core_memory(\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None\n) -> Dict[str, str]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns: ",(0,i.jsx)(n.code,{children:"{'persona': '...', 'user': '...', 'facts': '...', 'context': '...'}"})]}),"\n",(0,i.jsx)(n.h4,{id:"update_memory_block",children:"update_memory_block()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.update_memory_block(\n    label: str,  # 'persona', 'user', 'facts', 'context'\n    content: str,\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None\n) -> bool\n"})}),"\n",(0,i.jsx)(n.h4,{id:"format_core_memory_for_context",children:"format_core_memory_for_context()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.format_core_memory_for_context(\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None\n) -> str\n"})}),"\n",(0,i.jsx)(n.p,{children:"Returns formatted string for system prompt, including Memory Workspace location."}),"\n",(0,i.jsx)(n.h3,{id:"archival-memory",children:"Archival Memory"}),"\n",(0,i.jsx)(n.h4,{id:"search_memories",children:"search_memories()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.search_memories(\n    query: str,\n    limit: int = 10,\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None,\n    use_hybrid: bool = True\n) -> List[Dict[str, Any]]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns list of memory dicts with ",(0,i.jsx)(n.code,{children:"id"}),", ",(0,i.jsx)(n.code,{children:"content"}),", ",(0,i.jsx)(n.code,{children:"importance"}),", ",(0,i.jsx)(n.code,{children:"similarity"}),", ",(0,i.jsx)(n.code,{children:"created_at"}),", ",(0,i.jsx)(n.code,{children:"metadata"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"retrieve_relevant_memories",children:"retrieve_relevant_memories()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.retrieve_relevant_memories(\n    query: str,\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None,\n    limit: int = 5\n) -> str\n"})}),"\n",(0,i.jsx)(n.p,{children:"Returns formatted string with relevant memories or empty string."}),"\n",(0,i.jsx)(n.h4,{id:"process_conversation_turn_for_memories",children:"process_conversation_turn_for_memories()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.process_conversation_turn_for_memories(\n    conversation_turn: Union[ConversationTurn, Dict],\n    chat_id: str,\n    user_id: str\n) -> MemoryExtractionResult\n"})}),"\n",(0,i.jsx)(n.p,{children:"Dual-writes extracted facts to LanceDB and markdown daily log."}),"\n",(0,i.jsxs)(n.p,{children:["Returns: ",(0,i.jsx)(n.code,{children:"MemoryExtractionResult"})," with ",(0,i.jsx)(n.code,{children:"extracted_facts"}),", ",(0,i.jsx)(n.code,{children:"memories_created"}),", ",(0,i.jsx)(n.code,{children:"memories_updated"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"refresh_core_memory_facts",children:"refresh_core_memory_facts()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.refresh_core_memory_facts(user_id: str)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Summarizes high-importance facts into the ",(0,i.jsx)(n.code,{children:"facts"})," core block and writes to ",(0,i.jsx)(n.code,{children:"MEMORY.md"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"get_memory_stats",children:"get_memory_stats()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await manager.get_memory_stats(user_id: str) -> Dict[str, Any]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns: ",(0,i.jsx)(n.code,{children:"{'total_memories': int, 'user_id': str}"})]}),"\n",(0,i.jsx)(n.h2,{id:"markdownmemorystore",children:"MarkdownMemoryStore"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-1",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'MarkdownMemoryStore(base_dir: str)\n# e.g. MarkdownMemoryStore("/shared/memory")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"daily-logs",children:"Daily Logs"}),"\n",(0,i.jsx)(n.h4,{id:"append_daily_log",children:"append_daily_log()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'await store.append_daily_log(\n    chat_id: str,\n    facts: List[dict],  # [{"content", "category", "tags", ...}]\n    date: Optional[str] = None  # YYYY-MM-DD, defaults to today\n)\n'})}),"\n",(0,i.jsx)(n.h4,{id:"get_recent_logs",children:"get_recent_logs()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.get_recent_logs(days: int = 2) -> str\n"})}),"\n",(0,i.jsx)(n.h4,{id:"list_daily_logs",children:"list_daily_logs()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'await store.list_daily_logs() -> List[str]  # ["2026-02-08", ...]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"long-term-memory",children:"Long-term Memory"}),"\n",(0,i.jsx)(n.h4,{id:"write_memory_file",children:"write_memory_file()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.write_memory_file(content: str)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Writes/replaces ",(0,i.jsx)(n.code,{children:"MEMORY.md"})," with header and timestamp."]}),"\n",(0,i.jsx)(n.h4,{id:"read_memory_file",children:"read_memory_file()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.read_memory_file() -> Optional[str]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"markdownindexer",children:"MarkdownIndexer"}),"\n",(0,i.jsx)(n.h3,{id:"reindex_from_markdown",children:"reindex_from_markdown()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"indexer = MarkdownIndexer()\nstats = await indexer.reindex_from_markdown(\n    markdown_store,\n    lancedb_store,\n    embedding_gen,\n    user_id: str,\n    clear_existing: bool = False\n) -> dict  # {total_files, total_facts, indexed, skipped, errors}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Rebuilds LanceDB from markdown source of truth."}),"\n",(0,i.jsx)(n.h2,{id:"transcriptindexer",children:"TranscriptIndexer"}),"\n",(0,i.jsx)(n.h3,{id:"index_transcript",children:"index_transcript()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"indexer = TranscriptIndexer(chunk_size=400, chunk_overlap=80)\nstats = await indexer.index_transcript(\n    transcript_path: Path,\n    session_id: str,\n    lancedb_store,\n    embedding_gen,\n    user_id: str\n) -> dict  # {total_turns, total_chunks, indexed, errors}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Chunks JSONL transcript and embeds into LanceDB for cross-session search."}),"\n",(0,i.jsx)(n.h2,{id:"transcriptmanager",children:"TranscriptManager"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-2",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"TranscriptManager(base_dir: Optional[str] = None)\n# Defaults to .suzent/transcripts/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h4,{id:"append_turn",children:"append_turn()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'await mgr.append_turn(\n    session_id: str,\n    role: str,      # "user" or "assistant"\n    content: str,\n    actions: Optional[List[dict]] = None,\n    metadata: Optional[dict] = None\n)\n'})}),"\n",(0,i.jsx)(n.h4,{id:"read_transcript",children:"read_transcript()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await mgr.read_transcript(\n    session_id: str,\n    last_n: Optional[int] = None\n) -> List[dict]\n"})}),"\n",(0,i.jsx)(n.h4,{id:"transcript_exists",children:"transcript_exists()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"mgr.transcript_exists(session_id: str) -> bool\n"})}),"\n",(0,i.jsx)(n.h2,{id:"statemirror",children:"StateMirror"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-3",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"StateMirror(base_dir: Optional[str] = None)\n# Defaults to .suzent/state/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"methods-1",children:"Methods"}),"\n",(0,i.jsx)(n.h4,{id:"mirror_state",children:"mirror_state()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"mirror.mirror_state(session_id: str, state_bytes: bytes)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Writes human-readable JSON from serialized agent state. Falls back to placeholder for pickle format."}),"\n",(0,i.jsx)(n.h4,{id:"read_state",children:"read_state()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"mirror.read_state(session_id: str) -> Optional[dict]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"sessionlifecycle",children:"SessionLifecycle"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-4",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"policy = SessionPolicy(\n    daily_reset_hour: int = 4,     # UTC hour (0 = disabled)\n    idle_timeout_minutes: int = 0, # 0 = disabled\n    max_turns: int = 0             # 0 = unlimited\n)\nlifecycle = SessionLifecycle(policy)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"methods-2",children:"Methods"}),"\n",(0,i.jsx)(n.h4,{id:"should_reset",children:"should_reset()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"lifecycle.should_reset(\n    last_active_at: datetime,\n    turn_count: int = 0,\n    created_at: Optional[datetime] = None\n) -> Tuple[bool, str]  # (should_reset, reason)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"get_session_key",children:"get_session_key()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'SessionLifecycle.get_session_key(\n    platform: str,\n    sender_id: str,\n    thread_id: Optional[str] = None\n) -> str  # e.g. "telegram-user123-thread456"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"contextcompressor",children:"ContextCompressor"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-5",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"ContextCompressor(\n    llm_client: Optional[LLMClient] = None,\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"methods-3",children:"Methods"}),"\n",(0,i.jsx)(n.h4,{id:"compress_context",children:"compress_context()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await compressor.compress_context(agent: CodeAgent) -> bool\n"})}),"\n",(0,i.jsx)(n.p,{children:"Runs pre-compaction memory flush before compressing, then summarizes old steps."}),"\n",(0,i.jsx)(n.h2,{id:"agent-tools",children:"Agent Tools"}),"\n",(0,i.jsx)(n.h3,{id:"memorysearchtool",children:"MemorySearchTool"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"MemorySearchTool(memory_manager: MemoryManager)\ntool.set_context(chat_id, user_id)\nresult = tool.forward(query: str, limit: int = 10) -> str\n"})}),"\n",(0,i.jsx)(n.h3,{id:"memoryblockupdatetool",children:"MemoryBlockUpdateTool"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"MemoryBlockUpdateTool(memory_manager: MemoryManager)\ntool.set_context(chat_id, user_id)\nresult = tool.forward(\n    block: str,           # 'persona', 'user', 'facts', 'context'\n    operation: str,       # 'replace', 'append', 'search_replace'\n    content: str,\n    search_pattern: Optional[str] = None\n) -> str\n"})}),"\n",(0,i.jsx)(n.h2,{id:"lancedbmemorystore",children:"LanceDBMemoryStore"}),"\n",(0,i.jsx)(n.h3,{id:"initialization-6",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'LanceDBMemoryStore(\n    uri: str = ".suzent/data/memory",\n    embedding_dim: int = CONFIG.embedding_dimension\n)\nawait store.connect()\n'})}),"\n",(0,i.jsx)(n.h3,{id:"memory-blocks",children:"Memory Blocks"}),"\n",(0,i.jsx)(n.h4,{id:"get_all_memory_blocks",children:"get_all_memory_blocks()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.get_all_memory_blocks(\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None\n) -> Dict[str, str]\n"})}),"\n",(0,i.jsx)(n.h4,{id:"set_memory_block",children:"set_memory_block()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.set_memory_block(\n    label: str,\n    content: str,\n    chat_id: Optional[str] = None,\n    user_id: Optional[str] = None\n) -> bool\n"})}),"\n",(0,i.jsx)(n.h3,{id:"archival-memory-1",children:"Archival Memory"}),"\n",(0,i.jsx)(n.h4,{id:"add_memory",children:"add_memory()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.add_memory(\n    content: str,\n    embedding: List[float],\n    user_id: str,\n    chat_id: Optional[str] = None,\n    metadata: Optional[Dict[str, Any]] = None,\n    importance: float = 0.5\n) -> str  # Returns memory ID\n"})}),"\n",(0,i.jsx)(n.h3,{id:"search",children:"Search"}),"\n",(0,i.jsx)(n.h4,{id:"hybrid_search",children:"hybrid_search()"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"await store.hybrid_search(\n    query_embedding: List[float],\n    query_text: str,\n    user_id: str,\n    limit: int = 10,\n    chat_id: Optional[str] = None,\n    semantic_weight: float = 0.7,\n    fts_weight: float = 0.3,\n    recency_boost: float = 0.1,\n    importance_boost: float = 0.2\n) -> List[Dict[str, Any]]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"rest-api-endpoints",children:"REST API Endpoints"}),"\n",(0,i.jsx)(n.h3,{id:"session-inspection",children:"Session Inspection"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Endpoint"}),(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/session/{id}/transcript"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsxs)(n.td,{children:["Session transcript (",(0,i.jsx)(n.code,{children:"?last_n=N"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/session/{id}/state"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Agent state snapshot"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"memory-files",children:"Memory Files"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Endpoint"}),(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/daily"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"List daily log dates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/daily/{date}"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Daily log content"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/file"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"MEMORY.md content"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/reindex"})}),(0,i.jsx)(n.td,{children:"POST"}),(0,i.jsx)(n.td,{children:"Rebuild LanceDB from markdown"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"core-memory-1",children:"Core Memory"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Endpoint"}),(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/core"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Get core memory blocks"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/core"})}),(0,i.jsx)(n.td,{children:"PUT"}),(0,i.jsx)(n.td,{children:"Update a core memory block"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/archival"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Search archival memories"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/archival/{id}"})}),(0,i.jsx)(n.td,{children:"DELETE"}),(0,i.jsx)(n.td,{children:"Delete a memory"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/memory/stats"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Memory statistics"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"type-definitions",children:"Type Definitions"}),"\n",(0,i.jsx)(n.h3,{id:"extractedfact",children:"ExtractedFact"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"{\n    'content': str,\n    'category': str,       # personal, preference, goal, context, technical\n    'importance': float,   # 0.0-1.0\n    'tags': List[str],\n    # Transcript linkage\n    'source_session_id': Optional[str],\n    'source_transcript_line': Optional[int],\n    'source_timestamp': Optional[str],\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"transcript-entry-jsonl-line",children:"Transcript Entry (JSONL line)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{"ts": "2026-02-08T14:32:00Z", "role": "user", "content": "...", "actions": [...], "meta": {...}}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"agent-state-json-v2",children:"Agent State (JSON v2)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{"version": 2, "steps": [...], "tools": [...], "serialized_at": "..."}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,r){r.d(n,{R:()=>o,x:()=>l});var t=r(6540);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);